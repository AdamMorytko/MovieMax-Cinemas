<!DOCTYPE HTML>
<html xmlns:th="https://www.thymeleaf.org" lang="en">
<head>
    <head th:replace="admin/fragments/sidebar :: head"></head>
    <title id="pageTitle">Szczegóły użytkownika</title>

</head>
<body id="page-top">
<div id="wrapper">
    <ul th:replace="admin/fragments/sidebar :: sidebar">
    </ul>
    <div id="content-wrapper" class="d-flex flex-column">

        <div id="content">

            <!-- Begin Page Content -->
            <div class="container-fluid">

                <div class="card shadow mb-4">
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col-lg-9">
                                <div class="p-2">
                                    <p class="text-center text-lg-left h1"
                                       th:text="'Użytkownik id: '+${user.id}">
                                        User id</p>
                                </div>
                            </div>
                        </div>
                        <div class="form-group card shadow mb-4">
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary"
                                    th:text="'Imię: '+${user.name}">Name</h6>
                            </div>
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary"
                                    th:text="'Nazwisko: '+${user.surname}">Surname</h6>
                            </div>
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary"
                                    th:text="'Login(email): '+${user.username}">Login</h6>
                            </div>
                            <div class="form-group card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary"
                                    th:text="'Rola: '+${user.getRoles().stream().findFirst().get().toString()}">
                                    Role</h6>
                            </div>
                            <div class="form-group card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary"
                                    th:text="'Rezerwacje:'"></h6>
                            </div>
                            <div class="form-group card-header py-3 d-block">
                                    <h6 class="m-0 font-weight-bold text-primary"
                                        th:each="reservation : ${user.reservations}"
                                        th:inline="text">
                                        [[${reservation.screening.screeningDate}]] - [[${reservation.screening.screeningTime}]] --- [[${reservation.screening.movie.title}]] -
                                        <a class="btn btn-primary p-1" th:href="@{/admin/reservations/details/{id}(id=${reservation.id})}">
                                            <i class="fas fa-info-circle"></i>
                                            Szczegóły
                                        </a>
                                    </h6>
                            </div>
                        </div>
                        <div class="text-center">
                            <a class="btn btn-primary m-1" th:href="@{/admin/users/edit/{id}(id=${user.id})}">
                                <i class="fas fa-edit"></i>
                                Edytuj
                            </a>
                            <a class="btn btn-primary m-1" th:href="@{/admin/users/delete/{id}(id=${user.id})}">
                                <i class="fas fa-trash"></i>
                                Usuń
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <!-- /.container-fluid -->

        </div>

        <footer th:replace="admin/fragments/footer :: footer">

        </footer>
    </div>
</div>

<div th:include="admin/fragments/footer :: scripts">

</div>
</body>
</html>