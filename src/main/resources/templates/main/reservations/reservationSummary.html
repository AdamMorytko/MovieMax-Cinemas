<!DOCTYPE HTML>
<html xmlns:th="https://www.thymeleaf.org" lang="en">
<head th:include="admin/fragments/sidebar :: head">
    <title id="pageTitle">Rezerwacja</title>

</head>
<body>
<div id="wrapper">
    <div id="content-wrapper" class="d-flex flex-column">
        <div class="container">
            <div class="card o-hidden border-0 shadow-lg my-5">
                <div class="card-body p-0">
                    <!-- Nested Row within Card Body -->
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="p-5">
                                <div class="text-center">
                                    <h1 class="h4 text-gray-900 mb-4">Nowa Rezerwacja - Podsumowanie</h1>
                                </div>
                                <div class="form-group">
                                    <div class="card-header py-2 d-flex flex-column align-items-start justify-content-start">
                                        <h6 class="m-0 font-weight-bold text-primary"
                                            th:inline="text">
                                            <i class="fas fa-user"></i> Imię: [[${userName}]]
                                        </h6>
                                        <h6 class="m-0 font-weight-bold text-primary"
                                            th:inline="text">
                                            <i class="fas fa-user"></i> Nazwisko: [[${userSurname}]]
                                        </h6>
                                        <h6 class="m-0 font-weight-bold text-primary"
                                            th:inline="text">
                                            <i class="fas fa-at"></i> Email: [[${userEmail}]]
                                        </h6>
                                    </div>
                                    <div class="card-header py-2 d-flex flex-column align-items-start justify-content-start">
                                        <h6 class="m-0 font-weight-bold text-primary"
                                            th:inline="text">
                                            <i class="fas fa-film"></i> Film: [[${screening.movie.title}]]
                                        </h6>
                                        <h6 class="m-0 font-weight-bold text-primary"
                                            th:inline="text">
                                            <i class="fas fa-calendar-day"></i> Data seansu:
                                            [[${screening.screeningDate}]]
                                        </h6>
                                        <h6 class="m-0 font-weight-bold text-primary"
                                            th:inline="text">
                                            <i class="fas fa-clock"></i> Godzina seansu: [[${screening.screeningTime}]]
                                        </h6>
                                    </div>
                                    <div class="card-header py-2 d-flex flex-column align-items-start justify-content-start">
                                        <h6 class="m-0 font-weight-bold text-primary"
                                            th:inline="text"
                                            th:each="reservedSeat : ${reservedSeats}">
                                            <i class="fas fa-couch"></i> Rząd: [[${reservedSeat.row}]] Miejsce:
                                            [[${reservedSeat.number}]]
                                        </h6>
                                    </div>
                                    <hr>
                                    <form th:action="@{/reservations/fifth}" method="post" class="user">
                                        <input type="hidden" name="screeningId"
                                               th:value="${screening.id}"/>
                                        <input type="hidden" name="reservedSeatNumber"
                                               th:value="${reservedSeatNumber}"/>
                                        <input type="hidden" th:each="reservedSeat,iterStatus : ${reservedSeats}"
                                               th:name="'reservedSeat'+${iterStatus.count}"
                                               th:value="${reservedSeat.row}+'n'+${reservedSeat.number}"/>
                                        <input type="hidden" name="userName"
                                               th:value="${userName}"/>
                                        <input type="hidden" name="userSurname"
                                               th:value="${userSurname}"/>
                                        <input type="hidden" name="userEmail"
                                               th:value="${userEmail}"/>
                                        <div class="form-group">
                                            <input class="btn btn-primary btn-user btn-block" type="submit"
                                                   value="Potwierdź i zapłać"/>
                                        </div>
                                    </form>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer th:replace="admin/fragments/footer :: footer">

        </footer>
    </div>
</div>

<div th:replace="admin/fragments/footer :: scripts">

</div>
</body>
</html>